<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QRGen - Unlimited Free QR Code Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
  <link rel="shortcut icon" href="mp.jpeg" type="image/x-icon">

  <style>
    /* Hide body content until popup is gone */
    body {
      margin: 0;
      overflow: hidden;
    }
    #pageContent {
      display: none;
    }

    /* MP Logo Popup */
    #logoPopup {
      position: fixed;
      inset: 0;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      animation: fadeIn 0.3s ease;
    }
    #logoPopup img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
    }
    .fade-out {
      animation: fadeOut 0.5s ease forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; visibility: hidden; }
    }

    /* Blue bars animation */
    .loading-bars {
      display: flex;
      gap: 6px;
      align-items: center;
      height: 120px;
      justify-content: center;
    }
    .loading-bar {
      width: 6px;
      background: #38bdf8;
      border-radius: 3px;
      animation: pulse 1s ease-in-out infinite;
      animation-delay: calc(var(--i) * 0.1s);
      transform-origin: center;
    }
    @keyframes pulse {
      0%, 100% {height: 20px;}
      50% {height: 100px;}
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex flex-col">

<!-- MP Logo Popup -->
<div id="logoPopup">
  <img src="mp.jpg" alt="">
</div>

<!-- Website Content -->
<div id="pageContent">
<header class="bg-white shadow-sm">
  <div class="container mx-auto px-4 py-6">
    <div class="flex flex-col md:flex-row justify-between items-center">
      <div class="flex items-center mb-4 md:mb-0">
        <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" 
               class="h-6 w-6 text-white" fill="none" 
               viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" 
                  stroke-linejoin="round" 
                  stroke-width="2" 
                  d="M12 4v16m8-8H4" />
          </svg>
        </div>
        <h1 class="text-2xl font-bold text-gray-800">QRGen</h1>
      </div>
      <p class="text-gray-600 text-sm md:text-base">Create unlimited QR codes for free</p>
    </div>
  </div>
</header>

<main class="flex-grow container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-8">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-3">Generate QR Codes Instantly</h2>
      <p class="text-gray-600 max-w-lg mx-auto">
        Create custom QR codes for URLs, text, or contact information in seconds. 
        Unlimited downloads, no registration required.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Form -->
      <div class="bg-white rounded-xl shadow-md p-6 relative">
        <!-- Animation container -->
        <div id="loadingAnimation" class="hidden absolute inset-0 bg-white bg-opacity-80 flex justify-center items-center z-10">
          <div class="loading-bars">
            <div class="loading-bar" style="--i:1"></div>
            <div class="loading-bar" style="--i:2"></div>
            <div class="loading-bar" style="--i:3"></div>
            <div class="loading-bar" style="--i:4"></div>
            <div class="loading-bar" style="--i:5"></div>
            <div class="loading-bar" style="--i:6"></div>
            <div class="loading-bar" style="--i:7"></div>
            <div class="loading-bar" style="--i:8"></div>
            <div class="loading-bar" style="--i:9"></div>
            <div class="loading-bar" style="--i:10"></div>
            <div class="loading-bar" style="--i:11"></div>
          </div>
        </div>

        <form id="qrForm" class="space-y-4">
          <div>
            <label for="qrContent" class="block text-sm font-medium text-gray-700 mb-1">Content to encode</label>
            <input type="text" id="qrContent" placeholder="Enter URL or text..." 
              class="w-full px-4 py-3 border border-gray-300 rounded-lg 
                     focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" required>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="qrColor" class="block text-sm font-medium text-gray-700 mb-1">Color</label>
              <select id="qrColor" class="w-full px-4 py-3 border border-gray-300 rounded-lg 
                                        focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                <option value="#000000">Black</option>
                <option value="#1E40AF">Blue</option>
                <option value="#B91C1C">Red</option>
                <option value="#047857">Green</option>
              </select>
            </div>
            <div>
              <label for="qrSize" class="block text-sm font-medium text-gray-700 mb-1">Size</label>
              <select id="qrSize" class="w-full px-4 py-3 border border-gray-300 rounded-lg 
                                       focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                <option value="1">Small</option>
                <option value="2" selected>Medium</option>
                <option value="3">Large</option>
              </select>
            </div>
          </div>

          <div>
            <label for="qrErrorCorrection" class="block text-sm font-medium text-gray-700 mb-1">Error Correction</label>
            <select id="qrErrorCorrection" class="w-full px-4 py-3 border border-gray-300 rounded-lg 
                                                 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
              <option value="L">Low (~7%)</option>
              <option value="M" selected>Medium (~15%)</option>
              <option value="Q">Quartile (~25%)</option>
              <option value="H">High (~30%)</option>
            </select>
          </div>

          <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold 
                                     py-3 px-4 rounded-lg transition duration-300 transform hover:-translate-y-1">
            Generate QR Code
          </button>
        </form>
      </div>

      <!-- QR Output -->
      <div class="bg-white rounded-xl shadow-md p-6">
        <div class="flex flex-col h-full">
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Your QR Code</h3>
          <div id="qrOutput" class="flex-grow flex items-center justify-center">
            <div class="qr-placeholder w-full">
              <p class="text-gray-400">Your QR code will appear here</p>
            </div>
          </div>

          <div id="qrActions" class="hidden mt-6 space-x-3 flex justify-center">
            <button id="downloadSvg" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-5 rounded-lg">
              Download SVG
            </button>
            <button id="downloadPng" class="bg-gray-800 hover:bg-gray-900 text-white font-medium py-2 px-5 rounded-lg">
              Download PNG
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
</div> <!-- End pageContent -->

<script>
  // Popup hide after 1s
  window.addEventListener('load', () => {
    setTimeout(() => {
      document.getElementById('logoPopup').classList.add('fade-out');
      setTimeout(() => {
        document.getElementById('logoPopup').style.display = 'none';
        document.getElementById('pageContent').style.display = 'block';
        document.body.style.overflow = 'auto';
      }, 500);
    }, 1000);
  });

  const form = document.getElementById('qrForm');
  const loading = document.getElementById('loadingAnimation');

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    loading.classList.remove('hidden');

    const content = document.getElementById('qrContent').value.trim();
    const color = document.getElementById('qrColor').value;
    const typeNumber = parseInt(document.getElementById('qrSize').value) * 2 + 2;
    const errorCorrectionLevel = document.getElementById('qrErrorCorrection').value;

    setTimeout(() => {
      if (content) {
        generateQRCode(content, color, typeNumber, errorCorrectionLevel);
      }
      loading.classList.add('hidden');
    }, 1500);
  });

  function generateQRCode(content, color, typeNumber, errorCorrectionLevel) {
    const qr = qrcode(typeNumber, errorCorrectionLevel);
    qr.addData(content);
    qr.make();
    const container = document.getElementById('qrOutput');
    container.innerHTML = qr.createSvgTag(8, 0);
    container.querySelector('svg path').setAttribute('fill', color);
    document.getElementById('qrActions').classList.remove('hidden');
    setupDownloadButtons(qr, color);
  }

  function setupDownloadButtons(qr, color) {
    document.getElementById('downloadSvg').onclick = function() {
      const svgData = qr.createSvgTag(8, 0);
      const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
      const svgUrl = URL.createObjectURL(svgBlob);
      const downloadLink = document.createElement('a');
      downloadLink.href = svgUrl;
      downloadLink.download = 'qr-code.svg';
      document.body.appendChild(downloadLink);
      downloadLink.click();
      document.body.removeChild(downloadLink);
    };
    document.getElementById('downloadPng').onclick = function() {
      const canvas = document.createElement('canvas');
      const size = qr.getModuleCount() * 8;
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = '#ffffff';
      ctx.fillRect(0, 0, size, size);
      const modules = qr.getModuleCount();
      for (let row = 0; row < modules; row++) {
        for (let col = 0; col < modules; col++) {
          if (qr.isDark(row, col)) {
            ctx.fillStyle = color;
            ctx.fillRect(col * 8, row * 8, 8, 8);
          }
        }
      }
      const pngUrl = canvas.toDataURL('image/png');
      const downloadLink = document.createElement('a');
      downloadLink.href = pngUrl;
      downloadLink.download = 'qr-code.png';
      document.body.appendChild(downloadLink);
      downloadLink.click();
      document.body.removeChild(downloadLink);
    };
  }
</script>
</body>
</html>
